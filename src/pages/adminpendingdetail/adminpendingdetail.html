<ion-header>

    <ion-navbar color="primary">
      <ion-title> My Advance Details</ion-title>
    </ion-navbar>
  
  </ion-header>
  
  
  <ion-content  class="ion-content">
    <form novalidate (ngSubmit)="approveAdvance()" [formGroup]="signupform">

    <h3>Staff Details</h3>
    <ion-list>
  
      <ion-item>
        <ion-label stacked color="primary">Name</ion-label>
        <ion-label>{{ advance.Name ? advance.Name : ' - ' }}</ion-label>
      </ion-item>
  
      <!-- <ion-item>
        <ion-label stacked color="primary">Bank Name</ion-label>
        <ion-input type="text" readonly value=""> </ion-input>
      </ion-item> -->
  
      <ion-item>
        <ion-label stacked color="primary">Bank Account</ion-label>
        <ion-label>{{ advance.Bank_Account_No ? advance.Bank_Account_No : ' - ' }}</ion-label>
      </ion-item>
  
    <ion-item>
      <ion-label stacked color="primary">Department</ion-label>
      <ion-label>{{ advance.Project_Name ? advance.Project_Name : ' - ' }}</ion-label>
    </ion-item>
  
    <ion-item>
        <ion-label stacked color="primary">Position</ion-label>
        <ion-label>{{ advance.Position ? advance.Position : ' - ' }}</ion-label>
      </ion-item>
  
  <h3>Travelling Details</h3>
  <ion-item>
      <ion-label stacked color="primary">Destination</ion-label>
      <ion-label>{{ advance.Destination ? advance.Destination : ' - ' }}</ion-label>
    </ion-item>
  
    <ion-item>
        <ion-label stacked color="primary">Start Date</ion-label>
        <ion-label>{{ advance.Start_Date ? advance.Start_Date : ' - ' }}</ion-label>
  
        </ion-item>
    
        <ion-item>
          <ion-label stacked color="primary">End Date</ion-label>
          <ion-label>{{ advance.End_Date ? advance.End_Date : ' - ' }}</ion-label>
  
          </ion-item>
  
    <ion-item>
      <ion-label stacked color="primary">Mode Of Transport</ion-label>
      <ion-label>{{ advance.Mode_Of_Transport ? advance.Mode_Of_Transport : ' - ' }}</ion-label>
  
    </ion-item>
  
    <ion-item>
        <ion-label stacked color="primary">Car Plate No:</ion-label>
        <ion-label>{{ advance.Car_No ? advance.Car_No : ' - ' }}</ion-label>
      </ion-item>
  
    </ion-list>

  <h3>Item Details</h3>
  <ion-grid>

    <ion-row>
      <ion-col type col-6></ion-col>
      <ion-col days col-2>No of Days</ion-col>
      <ion-col allowance-title col-2>Allowance per Day</ion-col>
      <ion-col total col-2>Total (MYR)</ion-col>
    </ion-row>

    <ion-row *ngFor="let adv of advancedetails">
      <ion-col type col-6>

        <ion-item>
          <ion-label>{{adv.Type}}</ion-label>
        </ion-item>

      </ion-col>
      <ion-col days col-2 >
        <ion-label>{{adv.Days? adv.Days:"0"}}</ion-label>
      </ion-col>
      <ion-col allowance col-2>
        <ion-label>{{adv.Allowance}}</ion-label>
      </ion-col>
      <ion-col allowance col-2>
        <ion-label>{{adv.Total}}</ion-label>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid>
    <ion-row >
      <ion-col type col-6>
        <ion-item>
          <ion-label>Other Purpose</ion-label>
        </ion-item>
      </ion-col>
      <ion-col days >
        <ion-label>{{advance.Purpose}}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row >
      <ion-col type col-6>
        <ion-item>
          <ion-label>Purchase</ion-label>
        </ion-item>
      </ion-col>
      <ion-col days >
        <ion-label>{{advance.Purchase}}</ion-label>
      </ion-col>
    </ion-row>
  </ion-grid>
  
  <h3>Advance Required</h3>
  <ion-grid>
  
        <ion-row>
          <ion-col total-advance col-9></ion-col>
          <ion-col total col-3>Amount (MYR)</ion-col>
        </ion-row>
  
        <ion-row>
          <ion-col total-advance col-9>Total</ion-col>
          <ion-col col-3>
            <ion-label type="number" value="" readonly>{{ advance.Total_Requested }}</ion-label>
          </ion-col>
        </ion-row>
  
  
         <ion-row>
          <ion-col total-advance col-9>Total Advanced Requested</ion-col>
          <ion-col col-3>
            <ion-label type="number" value="" readonly>{{ advance.Total_Requested }}</ion-label>
          </ion-col>
        </ion-row>
  
        <ion-row>
          <ion-col total-advance col-9>Total Advanced Approved</ion-col>
          <ion-col col-3>
              <ion-input type="number" min="0" placeholder="0.00" [(ngModel)]="Total_Approved"  formControlName="Total_Approved" [class.error1]="!signupform.controls.Total_Approved.valid && signupform.controls.Total_Approved.dirty"></ion-input>
          </ion-col>
          <ion-item no-lines *ngIf="( signupform.get('Total_Approved').hasError('required') ) && signupform.get('Total_Approved').touched">
              <div class="error" *ngIf="signupform.get('Total_Approved').hasError('required') && signupform.get('Total_Approved').touched">
                  Please insert total approved
              </div>
          </ion-item>
        </ion-row>
  </ion-grid>
  
  <br>

  <div class="row">
      <div class="col">
      <button ion-button full color="secondary" class="button-redirect" [navPush]="adminpendingadvanceredirect" [navParams]="advance">
          Redirect
      </button>
      </div>
      <div class="col">
      <button ion-button full color="primary" type="submit" [disabled]="signupform.invalid">
          Approve
      </button>
      </div>
      <div class="col">
          <button ion-button full color="danger" type="button" (click)="rejectAdvance()">
          Reject Advance
          </button>
      </div>
  </div>
</form>

</ion-content>
<!-- <ion-footer>
    <button ion-button block>Submit</button>

</ion-footer> -->
  